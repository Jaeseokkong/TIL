# 🧠 React 19 문서 메타데이터(Document Metadata) 설정 정리

React 19부터는 `<title>`, `<meta>`, `<link>` 같은 문서 메타데이터를 컴포넌트 내부에서 직접 선언할 수 있도록 공식 지원합니다.<br/>
이 변화로 인해 기존의 `document.title` 이나 `react-helmet` 중심의 패턴이 크게 단순화되었습니다.

---

## 1️⃣ 기존 방식의 한계
React 18 이하에서는 메타데이터를 다루기 위해 다음과 같은 방식이 필요했습니다.

- `document.title` 직접 조작
- `react-helmet`, `react-helmet-async` 사용
- 프레임워크 (Next.js 등) 의존적인 API

```js
useEffect(() => {
  document.title = 'Profile';
}, []);
```

### ❌ 문제점

- 컴포넌트 생명주기와 분리됨
- cleanup을 직접 관리해야 함
- SSR / Streaming 환경에서 일관성 유지 어려움
- 외부 라이브러리 의존

---

## 2️⃣ React 19의 새로운 메타데이터 선언 방식

> 메타데이터도 이제 JSX의 일부

React 19부터는 `<head>`에 들어갈 태그를 컴포넌트 내부에서 그대로 작성할 수 있습니다.

```jsx
function ProfilePage() {
	return (
		<>
			<title>프로필</title>
			<meta name="description" content="사용자 프로필 페이지" />
			<link rel="canonical" href="/profile" />

			<h1>프로필</h1>
		</>
	);
}
```

👉 React가 이를 자동으로 `<head>`로 hoisting 처리합니다.

---

## 3️⃣ 동작 방식 요약

- 컴포넌트가 마운트되면 head에 추가
- 언마운트 시 자동 제거
- 중복 메타데이터 발생 시 → **가장 마지막에 렌더된 요소가 우선**

```jsx
function Layout() {
  return <title>기본 타이틀</title>;
}

function Page() {
  return <title>페이지 타이틀</title>;
}
```

📌 결과: **Page 타이틀**이 최종 `<title>`

---
