# use API (React 19)
React 19ì—ì„œ ìƒˆë¡­ê²Œ ë„ì…ëœ `use` **API**ëŠ” ë¹„ë™ê¸° ë°ì´í„°ë¥¼ ë” ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” í›…ì…ë‹ˆë‹¤. ê¸°ì¡´ì—ëŠ” `useEffect + useState`ë¥¼ ì¡°í•©í•´ì•¼ í–ˆì§€ë§Œ, `use`ë¥¼ ì‚¬ìš©í•˜ë©´ **ë” ê°„ê²°í•œ ì½”ë“œë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê³ , Suspenseì™€ ìì—°ìŠ¤ëŸ½ê²Œ ê²°í•©**ë©ë‹ˆë‹¤.

> ğŸ’¡ **ì£¼ìš” íŠ¹ì§•**
>- **ë¹„ë™ê¸° ë°ì´í„° ì²˜ë¦¬ ê°„ì†Œí™”**: `useEffect` ì—†ì´ë„ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ
>- **Suspenseì™€ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê²°í•©**: ë¡œë”© ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥
>- **ì»¨í…ìŠ¤íŠ¸ ê°’ ì¡°ê±´ë¶€ ì½ê¸° ì§€ì›**: useContextë³´ë‹¤ ìœ ì—°í•œ ì‚¬ìš© ê°€ëŠ¥
>- **React Server Components(RSC)ì—ì„œ í™œìš© ê°€ëŠ¥**

## 1ï¸âƒ£ ê¸°ë³¸ ì‚¬ìš©ë²•
### ğŸ”¹ ê¸°ë³¸ì ì¸ `use` API ì‚¬ìš©ë²•
```tsx
import { use, Suspsense } from "react";

function Comments({ commentsPromise }) {
  const comments = use(commentsPromise);
  reuturn comments.map((comment) => <p key={commnent.id}>{comment}</p>)
}
function Page({ commentsPromise }) {
  return (
    <Suspense fallback={<div>Loading...</div>}>
      <Comments commentsPromise={commentsPromise}> />
    </Suspense>
  )
}
```
âœ”ï¸ `use`ë¥¼ ì‚¬ìš©í•˜ë©´ `useEffect` ì—†ì´ë„ ë°ì´í„°ë¥¼ ì§ì ‘ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
âœ”ï¸ `Suspsen`ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ **ë¡œë”© ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ê´€ë¦¬**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

- - -

<br>

## 2ï¸âƒ£ ê¸°ì¡´ ë°©ì‹ê³¼ì˜ ì°¨ì´ì 
### ğŸ”¹ ê¸°ì¡´ ë°©ì‹ (`useEffect + useState` ì‚¬ìš©)
```tsx
import { useState, useEffect } from "react";

function Comments({ commentsPromise }) {
  const [comments, setComments] = useState(null);

  useEffect(() => {
    commentsPromise.then(setComments);
  }, [commentsPromise]);

  if (!comments) {
    return <div>Loading...</div>;
  }

  return comments.map((comment) => <p key={comment.id}>{comment}</p>);
}
```
âœ”ï¸ `useEffect`ì™€ `useState`ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ê³ , ë¡œë”© ìƒíƒœë¥¼ ë”°ë¡œ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.   

### ğŸ”¹ `use` APIë¥¼ ì‚¬ìš©í•œ ë°©ì‹
```tsx
import { use, Suspense } from "react";

function Comments({ commentsPromise }) {
  const comments = use(commentsPromise);
  return comments.map((comment) => <p key={comment.id}>{comment}</p>);
}
```
âœ”ï¸ `use`ë¥¼ ì‚¬ìš©í•˜ë©´ **ë¹„ë™ê¸° ë°ì´í„°ê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬**ë©ë‹ˆë‹¤.  
âœ”ï¸ `useState`ì™€ `useEffect` ì—†ì´ë„ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

- - -

<br>

## 3ï¸âƒ£ ì»¨í…ìŠ¤íŠ¸(Context)ì—ì„œ `use` í™œìš©
`use`ëŠ” **ì»¨í…ìŠ¤íŠ¸ ê°’ì„ ì¡°ê±´ë¶€ë¡œ ì½ì„ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.**  
ê¸°ì¡´ `useContext`ëŠ” í•­ìƒ ì‹¤í–‰ë˜ì§€ë§Œ, `use`ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ì¡°ê±´ì—ì„œë§Œ ì»¨í…ìŠ¤íŠ¸ë¥´ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ”¹ ê¸°ì¡´ `useContext` ì‚¬ìš© ë°©ì‹
```tsx
import { useContext } from "react";
import ThemeContext from "./ThemeContext";

function Haeding({ children }) {
  const theme = useContext(ThemeContext);
  return <h1 style={{ color: theme.color }}>{children}</h1>;
}
```
âœ”ï¸ í•­ìƒ ì»¨í…ìŠ¤íŠ¸ ê°’ì„ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì—, **ì¡°ê±´ë¶€ ë Œë”ë§ì´ ì–´ë ¤ì›€**


### ğŸ”¹ `use` APIë¥¼ ì‚¬ìš©í•œ ë°©ì‹
```tsx
import { use } from "react";
import ThemeContext from "./ThemeContext";

function Heading({ children }) {
  if (!children) return null;
  const theme = use(ThemeContext);
  return <h1 style={{ color: theme.color }}>{children}</h1>;
}
```
âœ”ï¸ íŠ¹ì • ì¡°ê±´`(if (!children) return null;)`ì—ì„œë§Œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì–´ ë” ìœ ì—°í•¨