# ğŸ“¡ Zustand

ZustandëŠ” **Reactë¥¼ ìœ„í•œ ê²½ëŸ‰ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬**ë¡œ,  
ë³µì¡í•œ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì—†ì´ **ì „ì—­ ìƒíƒœë¥¼ ì§ê´€ì ìœ¼ë¡œ ê´€ë¦¬**í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

Reduxì²˜ëŸ¼ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì§€ë§Œ,

- Provider ë¶ˆí•„ìš”
- reducer/action ê°•ì œ âŒ
- hook ê¸°ë°˜ API

ë¥¼ í†µí•´ **ReactìŠ¤ëŸ½ê³  ê°„ë ¥í•œ ì‚¬ìš©ì„±**ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## 1ï¸âƒ£ Zustandê°€ í•„ìš”í•œ ì´ìœ 

Reactì˜ ê¸°ë³¸ ìƒíƒœ ê´€ë¦¬(`useState`, `useContext`)ëŠ” ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ í•œê³„ë¥¼ ë“œëŸ¬ëƒ…ë‹ˆë‹¤.

### ğŸ”¹ ê¸°ì¡´ ë°©ì‹ì˜ ë¬¸ì œì 

- props drilling

	- ê¹Šì€ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì—ì„œ ìƒíƒœ ì „ë‹¬
	- ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€

- Context ë‚¨ìš©

	- ì‘ì€ ìƒíƒœ ë³€ê²½ì—ë„ ì „ì²´ ë¦¬ë Œë”ë§
	- ë¡œì§ ë¶„ì‚°

- Reduxì˜ ë¶€ë‹´

	- action / reducer / dispatch
	- ì„¤ì • ë¹„ìš© í¼

ğŸ‘‰ ZustandëŠ” ì´ ë¬¸ì œë¥¼ ë‹¤ìŒ ì² í•™ìœ¼ë¡œ í•´ê²°í•©ë‹ˆë‹¤.
> **â€œìƒíƒœëŠ” ì™¸ë¶€ì— ë‘ê³ , ì»´í¬ë„ŒíŠ¸ëŠ” í•„ìš”í•œ ê²ƒë§Œ êµ¬ë…í•œë‹¤â€**

---

## 2ï¸âƒ£ í•µì‹¬ ê°œë… ìš”ì•½

- StoreëŠ” **ë‹¨ í•˜ë‚˜ì˜ JS ê°ì²´**
- ìƒíƒœ ë³€ê²½ì€ **í•¨ìˆ˜ ê¸°ë°˜(set)**
- ì»´í¬ë„ŒíŠ¸ëŠ” í•„ìš”í•œ ìƒíƒœë§Œ ì„ íƒì ìœ¼ë¡œ êµ¬ë…
- ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ìµœì†Œí™”

---

## 3ï¸âƒ£ ê¸°ë³¸ ì‚¬ìš©ë²•

### ğŸ”¹ Store ìƒì„±

```ts
import { create } from "zustand";

interface CounterState {
	count: number;
	increment: () => void;
	decrement: () => void;
}

export const useCounterStore = create<CounterState>((set) => ({
	count: 0,
	increment: () => set((state) => ({ state.count + 1 })),
	decrement: () => set((state) => ({ state.count - 1 }))
}))
```

### ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©

```tsx
function Counter() {
	const { count, increment, decrement } = useCounterStore();

	return (
		<>
		<p>{count}</p>
		<button onClick={increment}>+</button>
		<button onClick={decrement}>-</button>
		</>
	);
}
```

âœ”ï¸ `Provider` ì—†ì´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥  
âœ”ï¸ ìƒíƒœ ë³€ê²½ ì‹œ **í•´ë‹¹ ìƒíƒœë¥¼ êµ¬ë…í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë¦¬ë Œë”ë§**

---

## 4ï¸âƒ£ Zustandì˜ í•µì‹¬ êµ¬ì¡°

Zustand storeëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìŒ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

```text
Store
 â”œâ”€ state (ê°ì²´)
 â”œâ”€ set (ìƒíƒœ ë³€ê²½ í•¨ìˆ˜)
 â”œâ”€ get (í˜„ì¬ ìƒíƒœ ì¡°íšŒ)
 â””â”€ subscribers (êµ¬ë…ì ëª©ë¡)
```

- `set` â†’ ìƒíƒœ ë³€ê²½
- ìƒíƒœ ë³€ê²½ ì‹œ â†’ êµ¬ë… ì¤‘ì¸ ì»´í¬ë„ŒíŠ¸ë§Œ ì•Œë¦¼

âœ”ï¸ React ì™¸ë¶€ì— ì¡´ì¬í•˜ëŠ” **ë…ë¦½ì ì¸ ìƒíƒœ ì €ì¥ì†Œ**

---

## 5ï¸âƒ£ Selectorì™€ ë¦¬ë Œë”ë§ ìµœì í™”

Zustandì˜ ê°•ì ì€ **ì„ íƒì  êµ¬ë…**ì…ë‹ˆë‹¤.

```tsx
const count = useCounterStore((state) => state.count);
```

- `count`ê°€ ë°”ë€” ë•Œë§Œ ë¦¬ë Œë”ë§
- ë‹¤ë¥¸ ìƒíƒœ ë³€ê²½ì€ ë¬´ì‹œ

ğŸ“Œ Redux `useSelector`ì™€ ìœ ì‚¬í•˜ì§€ë§Œ ë” ë‹¨ìˆœ

---

## 6ï¸âƒ£ ì£¼ìš” ë¯¸ë“¤ì›¨ì–´

Zustand ë¯¸ë“¤ì›¨ì–´ëŠ” **store ìƒì„± ê³¼ì •ì— ê°œì…í•˜ì—¬ ë™ì‘ì„ í™•ì¥**í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

### ğŸ”¹ `presist` - ìƒíƒœ ì˜ì†í™”

```ts
import { persist } from "zustand/middleware";

export const useAuthStore = create(
	persist(
		(set) => ({
		token: null,
		login: (token: string) => set({ token }),
		logout: () => set({ token: null }),
		}),
		{
		name: "auth-storage",
		}
	)
);
```

- localStorage / sessionStorage ì €ì¥
- ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ìƒíƒœ ìœ ì§€

ğŸ“Œ ë¡œê·¸ì¸ ì •ë³´, ì„¤ì • ê°’ì— ìœ ìš©

---

### ğŸ”¹ `devtools` - Redux DevTools ì—°ë™

```ts
import { devtools } from "zustand/middleware";

export const useCounterStore = create(
	devtools((set) => ({
		count: 0,
		increment: () => set((s) => ({ count: s.count + 1 }), false, "increment"),
	}))
);
```

- ìƒíƒœ ë³€ê²½ íˆìŠ¤í† ë¦¬ í™•ì¸
- time-travel debugging ê°€ëŠ¥

---

### ğŸ”¹ `immer` - ë¶ˆë³€ì„± ê´€ë¦¬ ë‹¨ìˆœí™”

```ts
import { immer } from "zustand/middleware";

export const useTodoStore = create(
	immer((set) => ({
		todos: [],
		addTodo: (todo) =>
		set((state) => {
			state.todos.push(todo);
		}),
	}))
);
```

- ë¶ˆë³€ ê°ì²´ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì‘ì„±
- ë‚´ë¶€ì ìœ¼ë¡œ immutable ì²˜ë¦¬

---

### ğŸ”¹ `subscribeWithSelector`

```ts
import { subscribeWithSelector } from "zustand/middleware";
```

- íŠ¹ì • ìƒíƒœ ë³€í™”ë§Œ ê°ì§€
- React ì™¸ë¶€ ë¡œì§ì—ì„œë„ ìƒíƒœ êµ¬ë… ê°€ëŠ¥

---

## 7ï¸âƒ£ ë¯¸ë“¤ì›¨ì–´ ì¡°í•©

Zustand ë¯¸ë“¤ì›¨ì–´ëŠ” **ì²´ì´ë‹ ê°€ëŠ¥**

```ts
create(
	devtools(
		persist(
		immer((set) => ({
			count: 0,
		})),
		{ name: "counter" }
		)
	)
);
```

- ìˆœì„œ ì¤‘ìš”
- store ìƒì„± ë‹¨ê³„ì—ì„œ ë˜í•‘ë¨

---

