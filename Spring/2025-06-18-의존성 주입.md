# ì˜ì¡´ì„± ì£¼ì…(Dependency Injection, DI) ì •ë¦¬
![DI main image](../images/dependency-injection.png)

Spring Frameworkì˜ í•µì‹¬ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì¸ **ì˜ì¡´ì„± ì£¼ì…(DI)** ì€ ê°ì²´ ê°„ì˜ **ì˜ì¡´ ê´€ê³„ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ìë™ìœ¼ë¡œ ì—°ê²°í•´ ì£¼ëŠ” ê°œë…**ì…ë‹ˆë‹¤.  
DIë¥¼ í†µí•´ ê°ì²´ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³ , í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•˜ë©°, ë³€ê²½ì— ìœ ì—°í•œ ì„¤ê³„ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.

---

## 1ï¸âƒ£ ì˜ì¡´ì„± ì£¼ì…(DI)ì´ë€?
> ê°ì²´ê°€ ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ë¥¼ **ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³ ,** ì™¸ì£¼ì—ì„œ ì£¼ì…(Injection)ë°›ëŠ” ë°©ì‹.

### ğŸ’¡ ì™œ ì‚¬ìš©í•˜ëŠ”ê°€?
- ê°ì²´ ê°„ **ê°•í•œ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´**
- ì½”ë“œì˜ **ì¬ì‚¬ìš©ì„±, í…ŒìŠ¤íŠ¸ ìš©ì´ì„±, ìœ ì§€ë³´ìˆ˜ì„±** ì¦ê°€
- ê°ì²´ ìƒì„± ë° ê´€ê³„ ì„¤ì •ì„ **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì±…ì„**ì§€ê²Œ í•˜ì—¬, ê°œë°œìëŠ” ë¡œì§ì— ì§‘ì¤‘ ê°€ëŠ¥

---

## 2ï¸âƒ£ DI ì‚¬ìš© ë°©ë²•
Springì—ì„œëŠ” ì£¼ë¡œ ë‹¤ìŒ 3ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ì£¼ì…í•©ë‹ˆë‹¤.

### â‘  ìƒì„±ì ì£¼ì… (â­ì¶”ì²œ)
- **ë¶ˆë³€ì„±ê³¼ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±** í™•ë³´ ê°€ëŠ¥
- ìŠ¤í”„ë§ ê³µì‹ ë¬¸ì„œ ë° ëŒ€ë¶€ë¶„ì˜ ì‹¤ë¬´ í”„ë¡œì íŠ¸ì—ì„œ **ê¸°ë³¸ ë°©ì‹**ìœ¼ë¡œ ê¶Œì¥

```java
@Component
public class OrderService {
    private final MemberRepository memberRepository;

    @Autowired  // ìƒëµ ê°€ëŠ¥ (ìƒì„±ìê°€ 1ê°œë©´)
    public OrderService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
}
```

> ğŸ“Œ **ì¥ì **  
âœ… `final` í‚¤ì›Œë“œ ì‚¬ìš© ê°€ëŠ¥ â†’ ë¶ˆë³€ ë³´ì¥  
âœ… í•„ìˆ˜ ì˜ì¡´ì„± ë³´ì¥ (ì»´íŒŒì¼ ì‹œì •ì— ì²´í¬)  
âœ… í…ŒìŠ¤íŠ¸ ì‹œ Mock ì£¼ì…ì´ ì‰¬ì›€

---

### â‘¡ í•„ë“œ ì£¼ì… (âŒê¶Œì¥í•˜ì§€ ì•ŠìŒ)
ì½”ë“œê°€ ì§§ê³  ê°„ë‹¨í•˜ì§€ë§Œ, **í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€** + **ìˆœí™˜ ì°¸ì¡° ìœ„í—˜**
```java
@Component
public class OrderService {
    @Autowired
    private MemberRepository memberRepository;
}
```
> ğŸ“Œ **ë‹¨ì **  
âŒ `final` ì‚¬ìš© ë¶ˆê°€  
âŒ DIê°€ í”„ë ˆì„ì›Œí¬ì— ì¢…ì†ë¨ (í…ŒìŠ¤íŠ¸ ì‹œ DI ë¶ˆê°€)  
âŒ ì˜ì¡´ì„± ì£¼ì…ì´ ì™¸ë¶€ì—ì„œ ë¶ˆê°€ëŠ¥í•´ì§ â†’ í…ŒìŠ¤íŠ¸ ìœ ì—°ì„± ë–¨ì–´ì§

---

### â‘¢ ìˆ˜ì •ì(Setter) ì£¼ì…
- ì„ íƒì  ì˜ì¡´ì„± ì£¼ì…ì— ì í•©
- **í•„ìˆ˜ëŠ” ìƒì„±ì, ì„ íƒì€ Setter** ë°©ì‹ìœ¼ë¡œ í˜¼ìš© ê°€ëŠ¥
```java
@Component
public class OrderService {
    private MemberRepository memberRepository;

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
}
```
> ğŸ§ **ì‚¬ìš© ì˜ˆ**: `@ConfigurationProperties`, ì™¸ë¶€ ì„¤ì •ì„ ë°›ì•„ì•¼ í•˜ëŠ” ê°ì²´ ë“±

---

## 3ï¸âƒ£ DI ëŒ€ìƒ ê´€ë¦¬: ìŠ¤í”„ë§ ë¹ˆ
ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ê´€ë¦¬í•˜ëŠ” ê°ì²´ë¥¼ **ìŠ¤í”„ë§ ë¹ˆ**ì´ë¼ê³  í•˜ë©°, DIë¥¼ í†µí•´ ë¹ˆë“¤ ê°„ì˜ ì˜ì¡´ì„±ì„ ì—°ê²°í•©ë‹ˆë‹¤.
```java
@Service
public class MemberService { ... }

@Repository
public class MemberRepository { ... }
```
âœ”ï¸ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ í†µí•´ ë“±ë¡ëœ í´ë˜ìŠ¤ë“¤ì€ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì´ ë˜ê³ , ì˜ì¡´ì„± ì£¼ì… ëŒ€ìƒì´ ë¨

---

## 4ï¸âƒ£ ì‹¤ì „ ì˜ˆì‹œ
### ğŸ“¦ êµ¬ì„±
- `MemberService` â†’ `MemberRepository` ì— ì˜ì¡´
```java
@Service
public class MemberService {
    private final MemberRepository memberRepository;

    public MemberService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    public String getMember(Long id) {
        return memberRepository.findNameById(id);
    }
}

@Repository
public class MemberRepository {
    public String findNameById(Long id) {
        return "User" + id;
    }
}
```
âœ”ï¸ MemberServiceëŠ” `MemberRepository` ê°€ í•„ìš”í•˜ì§€ë§Œ ì§ì ‘ ìƒì„±í•˜ì§€ ì•ŠìŒ  
âœ”ï¸ ìŠ¤í”„ë§ì´ ìë™ìœ¼ë¡œ ìƒì„± í›„, ì£¼ì…
