# í´ë¡œì € (Closure)

## 1ï¸âƒ£ í•µì‹¬ ê°œë…: í´ë¡œì €ë€?
### ğŸ”¹ ì •ì˜
> **í´ë¡œì €(Closure)** ëŠ” **í•¨ìˆ˜**ì™€ **ê·¸ í•¨ìˆ˜ê°€ ì„ ì–¸ë  ë‹¹ì‹œì˜ ë ‰ì‹œì»¬ í™˜ê²½(Lexical Environment)** ì˜ ì¡°í•©ì…ë‹ˆë‹¤. 
ì¦‰, í´ë¡œì €ëŠ” í•¨ìˆ˜ê°€ ì™¸ë¶€ ìŠ¤ì½”í”„ì— ìˆëŠ” ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

ì´ ë§ì€ **ì™¸ë¶€ í•¨ìˆ˜ê°€ ì´ë¯¸ ì¢…ë£Œëœ ë’¤ì—ë„, ë‚´ë¶€ í•¨ìˆ˜ê°€ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.** ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.


### ğŸ§ ê°„ë‹¨í•œ ì˜ˆì‹œ
```js
function outer() {
    let count = 0;

    function inner() {
        count++;
        console.log(count);
    }

    return inner;
}

const counter = outer();
counter(); // 1
counter(); // 2
```
- `outer()` ì‹¤í–‰ ì‹œ, ì§€ì—­ ë³€ìˆ˜ `count`ê°€ ìƒì„±ë©ë‹ˆë‹¤.
- `outer()` ëŠ” `inner()` í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ê³  ì¢…ë£Œë©ë‹ˆë‹¤.
- í•˜ì§€ë§Œ `counter()` ë¥¼ í˜¸ì¶œí•˜ë©´ ì—¬ì „íˆ `count`ì— ì ‘ê·¼ ê°€ëŠ¥ â†’ í´ë¡œì € ë•ë¶„ì…ë‹ˆë‹¤.

### ğŸ“Œ í•µì‹¬ í¬ì¸íŠ¸
1. í•¨ìˆ˜ëŠ” ìì‹ ì´ ì„ ì–¸ëœ ìœ„ì¹˜ì˜ ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µí•©ë‹ˆë‹¤.
2. ì™¸ë¶€ í•¨ìˆ˜ê°€ ì¢…ë£Œëœ ë’¤ì—ë„, í•´ë‹¹ ìŠ¤ì½”í”„ê°€ ë©”ëª¨ë¦¬ì—ì„œ ìœ ì§€ë©ë‹ˆë‹¤.
3. ì´ ë©”ëª¨ë¦¬ ìœ ì§€ì˜ ë¹„ë°€ì´ ë°”ë¡œ í´ë¡œì €ì…ë‹ˆë‹¤.

---

## 2ï¸âƒ£ ë‹¤ì–‘í•œ ì˜ˆì œ
### ğŸ§ ì˜ˆì œ 1: ì—¬ëŸ¬ ê°œì˜ í´ë¡œì € ì¸ìŠ¤í„´ìŠ¤
```js
function createCounter() {
    let count = 0;
    return function() {
        count++;
        return count;
    }
}

const counter1 = createCounter();
const counter2 = createCounter();

console.log(counter1()); // 1
console.log(counter1()); // 2
console.log(counter2()); // 1
```
- `conter1`ê³¼ `counter2`ëŠ” ì„œë¡œ ë‹¤ë¥¸ `count`ë¥¼ ìœ ì§€ â†’ ê° í˜¸ì¶œ ì‹œ ìƒˆë¡œìš´ ë ‰ì‹œì»¬ í™˜ê²½ì´ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸.

### ğŸ§ ì˜ˆì œ 2: íŒŒë¼ë¯¸í„° ìº¡ì²˜
```js
function makeMultiplier(multiplier) {
    return function(number) {
        return number * multiplier;
    }
}

const double = makeMultiplier(2);
const triple = makeMultiplier(3);

console.log(double(5)); // 10
console.log(triple(5)); // 15
```
- `multiplier`ëŠ” `makeMultiplier` ì‹¤í–‰ì´ ëë‚œ í›„ì—ë„ ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ ê³„ì† ì°¸ì¡° ê°€ëŠ¥


### ğŸ§ ì˜ˆì œ 3: ë£¨í”„ì™€ í´ë¡œì €
```js
var funcs = [];

for (var i = 0; i < 3; i++) {
    funcs.push(function() {
        console.log(i);
    });
}

funcs[0](); // 3
funcs[1](); // 3
funcs[2](); // 3
```
- `var`ëŠ” í•¨ìˆ˜ ìŠ¤ì½”í”„ë¼ì„œ ê°™ì€ ë³€ìˆ˜ `i`ë¥¼ ì°¸ì¡°
- í•´ê²°ë²•: IIFE(ì¦‰ì‹œì‹¤í–‰í•¨ìˆ˜) ë˜ëŠ” `let` ì‚¬ìš©

```js
for (let i = 0; i < 3; i++) {
    funcs.push(function() {
        console.log(i);
    });
}
```

---

## 3ï¸âƒ£ ì‹¤ì „ í™œìš© íŒ¨í„´
### ğŸ”¹ ë°ì´í„° ì€ë‹‰
```js
function createBankAccount(initialBalance) {
    let balance = initialBalance;

    return {
        deposit(amount) {
            balance += amount;
            return balance;
        },
        withdraw(amount) {
            balance -= amount;
            return balance;
        },
        getBalance() {
            return balance;
        }
    };
}
const account = createBankAccount(1000);
console.log(account.getBalance()); // 1000
account.deposit(500);
console.log(account.getBalance()); // 1500
```
- ì™¸ë¶€ì—ì„œ `balance` ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€ â†’ **ìº¡ìŠí™”**

### ğŸ”¹ once() í•¨ìˆ˜
```js
function once(fn) {
    let called = false;
    let result;

    return function(...args) {
        if (!called) {
            called = true;
            result = fn.apply(this, args);
        }
        return result;
    }
}

const init = once(() => console.log("Initialized"));
init(); // Initialized
init(); // ì•„ë¬´ ì¼ ì—†ìŒ
```