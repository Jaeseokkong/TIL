# ğŸ§­ ë™ê¸°(Sync) vs ë¹„ë™ê¸°(Async)

JavaScriptëŠ” ë¸Œë¼ìš°ì €(Web API)ì™€ Node.js(libuv)ì˜ ë„ì›€ì„ ë°›ì•„ **ë¹„ë™ê¸°(Async)** ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

## 1ï¸âƒ£ ë™ê¸° (Synchronous)

### ğŸ“˜ ê°œë…

ëª¨ë“  ì‘ì—…ì´ **ìˆœì°¨ì ìœ¼ë¡œ í•˜ë‚˜ì”©**ì‹¤í–‰ ë˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. í•˜ë‚˜ì˜ ì‘ì—…ì´ ëë‚˜ì•¼ ë‹¤ìŒ ì‘ì—…ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.

### ğŸ“Œ íŠ¹ì§•

- ì‹¤í–‰ ìˆœì„œ ëª…í™• â†’ ì˜ˆì¸¡ ì‰¬ì›€
- ë‹¨ì : ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì´ ìˆìœ¼ë©´ ì „ì²´ íë¦„ì´ ë©ˆì¶¤(Blocking)

### ğŸ§ ì˜ˆì‹œ

```js
console.log("1");
for (let i = 0; i < 1e9; i++) {}
console.log("2"); // forë¬¸ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
```

---

## 2ï¸âƒ£ ë¹„ë™ê¸° (Asynchronous)

### ğŸ“˜ ê°œë…

ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì„ **ë°±ë“œë¼ìš´ë“œë¡œ ìœ„ì„**í•˜ê³ , JSëŠ” ë©ˆì¶”ì§€ ì•Šê³  ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

### ğŸ“Œ íŠ¹ì§•

- Non-blocking
- ë„¤íŠ¸ì›Œí¬, íŒŒì¼ ì‘ì—…, íƒ€ì´ë¨¸ ë“±ì— ìœ ë¦¬
- ë” ë‚˜ì€ UI/ì„±ëŠ¥

### ğŸ§ ì˜ˆì‹œ

```js
console.log("A");
setTimeout(() => console.log("B"), 0);
console.log("C");
// A â†’ C â†’ B
```

---

## 3ï¸âƒ£ JavaScript ëŸ°íƒ€ì„ ë‚´ë¶€ êµ¬ì¡°

JS ë¹„ë™ê¸°ì˜ í•µì‹¬ì€ ë¸Œë¼ìš°ì €/Node.jsì˜ **Event Loop ë©”ì»¤ë‹ˆì¦˜**ì…ë‹ˆë‹¤.

### ğŸ”¹ Call Stack

JavaScript ì—”ì§„ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ìŠ¤íƒ. í•œ ë²ˆì— í•˜ë‚˜ì”©ë§Œ ì‹¤í–‰ ê°€ëŠ¥

### ğŸ”¹ Web API / Node API

- ë¸Œë¼ìš°ì €: setTimeout, DOM ì´ë²¤íŠ¸, fetch ë“±
- Node: *libuv*ê°€ íŒŒì¼/ë„¤íŠ¸ì› I/O ì²˜ë¦¬ 

> ğŸ’¡ libuvëŠ” **Node.jsì˜ ë¹„ë™ê¸° I/O(Non-blocking I/O) ì—”ì§„**ì…ë‹ˆë‹¤.

### ğŸ”¹ Callback Queue (Macrotask Queue)

- setTimeout, setInterval, I/O ì½œë°± ë“±ì´ ë“¤ì–´ì˜¤ëŠ” í


### ğŸ”¹ Microtask Queue

- Promise.then, catch, finally, queuMicrotask ë“±ì´ ë“¤ì–´ì˜´ â†’ **ìš°ì„ ìˆœìœ„: Microtask > Macrotask**

### ğŸ”¹ Event Loop

- Call Stackì´ ë¹„ë©´ íì˜ ì‘ì—…ì„ ìŠ¤íƒìœ¼ë¡œ ê°€ì ¸ì™€ ì‹¤í–‰
- í•œ ë²ˆì˜ ë£¨í”„ì—ì„œ **ëª¨ë“  ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ ë¨¼ì € ì²˜ë¦¬**

---

## 4ï¸âƒ£ Microtask vs Macrotask ì‹¬í™”

```js
console.log("start");


setTimeout(() => console.log("timeout"), 0);


Promise.resolve()
.then(() => console.log("promise1"))
.then(() => console.log("promise2"));


console.log("end");
```

### ğŸ“Œ ì‹¤í–‰ ìˆœì„œ

```scss
start
end
promise1
promise2
timeout
```

- Promise.then â†’ **Microtask**
- setTimeout â†’ **Macrotask**
- Microtaskê°€ í•­ìƒ ë¨¼ì € ì‹¤í–‰ë¨

---


## 5ï¸âƒ£ ë¹„ë™ê¸° í‘œí˜„ ë°©ì‹

### ğŸ”¹ Callback

```js
fs.readFile('data.txt', 'utf8', (err, data) => {
	if (err) throw err;
	console.log(data);
});
```
âš ï¸ ì½œë°± ì§€ì˜¥ ë°œìƒ â†’ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€

---

### ğŸ”¹ Promise

```js
fetch('/api')
	.then(res => res.json())
	.then(data => console.log(data))
	.catch(err => console.error(err));
```

#### ì£¼ìš” ìœ í‹¸

- Promise.all
- Promise.allSettled
- Promise.race
- Promise.any

---

### async / await (í˜„ì¬ í‘œì¤€)

```js
async function load() {
	try {
		const res = await fetch('/user');
		const data = await res.json();
		console.log(data);
	} catch (err) {
	console.error(err);
	}
}
```

#### ë³‘ë ¹ ì‹¤í–‰

```js
// âŒ ì§ë ¬(ëŠë¦¼)
const a = await fetch('/a');
const b = await fetch('/b');

// âœ… ë³‘ë ¬(ë¹ ë¦„)
const [a, b] = await Promise.all([fetch('/a'), fetch('/b')]);
```

---