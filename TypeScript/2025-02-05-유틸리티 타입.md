# ìœ í‹¸ë¦¬í‹° íƒ€ì…(Utility Types) ì •ë¦¬

## 1ï¸âƒ£ ìœ í‹¸ë¦¬í‹° íƒ€ì…ì´ë€?
TypeScriptì—ì„œ ì œê³µí•˜ëŠ” **ìœ í‹¸ë¦¬í‹° íƒ€ì…**ì€ ê¸°ì¡´ íƒ€ì…ì„ ë³€í˜•í•˜ì—¬ ìƒˆë¡œìš´ íƒ€ì…ì„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. <br>
ì´ë¥¼ í™œìš©í•˜ë©´ **ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥**í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 2ï¸âƒ£ ì£¼ìš” ìœ í‹¸ë¦¬í‹° íƒ€ì…
### ğŸ”¹ Pick<T, K>
íŠ¹ì • ì†ì„±ë§Œ ì„ íƒí•˜ì—¬ ìƒˆë¡œìš´ íƒ€ì…ì„ ìƒì„±
```ts
interface User {
    id: number;
    name: string;
    email: string;
    password: string;
}

// âœ… ê³µê°œ ê°€ëŠ¥í•œ ì‚¬ìš©ì ì •ë³´ë§Œ í¬í•¨í•œ íƒ€ì…
type PublicUser = Pick<User, "id" | "name">

const user: PublicUser = {
    id: 1,
    name: "Alice"
}
```
âœ”ï¸ **ì‚¬ìš©ì²˜**: API ì‘ë‹µì—ì„œ í•„ìš”í•œ ë°ì´í„°ë§Œ í¬í•¨í•  ë•Œ í™œìš©

<br>

### ğŸ”¹Omit<T, K>
íŠ¹ì • ì†ì„±ì„ ì œê±°í•˜ì—¬ ìƒˆë¡œìš´ íƒ€ì…ì„ ìƒì„±
```ts
// âœ… ë¹„ë°€ë²ˆí˜¸ë¥¼ ì œì™¸í•œ ì•ˆì „í•œ ì‚¬ìš©ì ì •ë³´ íƒ€ì…
type SafeUser = Omit<User, "password">;

const safeUser: SafeUser = {
    id: 1,
    name: "Alice",
    email: "alice@example.com"
}
```
âœ”ï¸ **ì‚¬ìš©ì²˜**: ë³´ì•ˆì´ í•„ìš”í•œ ë°ì´í„°ë¥¼ í•„í„°ë§í•  ë•Œ í™œìš©


<br>

>#### ğŸ’¡ `Omit`ë³´ë‹¤ëŠ” `Pick`ì„ ë” ì„ í˜¸í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. <br>
>âœ… Pick<T, K> â†’ í¬í•¨í•  ì†ì„±ì„ ëª…í™•í•˜ê²Œ ì„ íƒí•  ìˆ˜ ìˆì–´ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ ê°€ë…ì„±ì´ ì¢‹ìŠµë‹ˆë‹¤ .<br>
>âš ï¸ Omit<T, K> â†’ ì›í•˜ì§€ ì•ŠëŠ” ì†ì„±ì„ ì œì™¸í•˜ì§€ë§Œ, ë‚˜ì¤‘ì— íƒ€ì…ì´ í™•ì¥ë  ê²½ìš° ì˜ˆê¸°ì¹˜ ì•Šì€ ì†ì„±ì´ í¬í•¨ë  ìˆ˜ ìˆë‹¤.

<br>

### ğŸ”¹Readonly<T>
ëª¨ë“  ì†ì„±ì„ **ì½ê¸° ì „ìš©(`readonly`)ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” íƒ€ì…**
```ts
interface Config {
    apiKey: string;
    theme: string;
}

// âœ… ì„¤ì •ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ë³´í˜¸
const appConfig: Readonly<Config> = {
    apiKey: 123456,
    theme: "dark"
}

appConfig.apiKey = "654321" // âŒ ì˜¤ë¥˜! Readonlyì´ë¯€ë¡œ ë³€ê²½ ë¶ˆê°€
```
âœ”ï¸ **ì‚¬ìš©ì²˜**: ë¶ˆë³€ ê°ì²´ë¥¼ ë‹¤ë£° ë•Œ í™œìš©

<br>

### ğŸ”¹ Exclude<T, U>
`T` ì—ì„œ `U`ì— í•´ë‹¹í•˜ëŠ” íƒ€ì…ì„ ì œì™¸
```ts
type Role = "admin" | "editor" | "viewer" | "guest"

// âœ… "guest"ë¥¼ ì œì™¸í•œ ê¶Œí•œ íƒ€ì…
type AuthorizedRole = Exclude<Role, "guest"> // "admin" | "editor" | "viewer"
```
âœ”ï¸ **ì‚¬ìš©ì²˜**: íŠ¹ì • ê°’ë§Œ í•„í„°ë§í•  ë•Œ í™œìš©

<br>

### ğŸ”¹ Extract<T, U>
`T`ì—ì„œ `U`ì— í• ë‹¹í•  ìˆ˜ ìˆëŠ” íƒ€ì…ë§Œ ì¶”ì¶œ
```ts
// âœ… "admin"ê³¼ "editor"ë§Œ ì¶”ì¶œí•œ íƒ€ì…
type HighLevelAccess = Extract<Role, "admin" | "editor">  // "admin" | "editor"
```

<br>

### ğŸ”¹ ReturnType<T>
í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì„ ì¶”ì¶œ
```ts
function getProfile() {
    return { id: 1, name: "Alice", age: 25 };
}

// âœ… getProfileì˜ ë°˜í™˜ íƒ€ì…ì„ ê°€ì ¸ì˜´
type ProfileType = ReturnType<typeof getProfile>;

// âœ… ProfileTypeì€ { id: number; name: string; age: number } í˜•íƒœ
```
âœ”ï¸ **ì‚¬ìš©ì²˜**:: í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ íƒ€ì…ì„ ì¬ì‚¬ìš©í•  ë•Œ ìœ ìš©

<br>

### ğŸ”¹ Parameters<T>
í•¨ìˆ˜ì˜ **ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ íŠœí”Œ(`tuple`) í˜•íƒœë¡œ ë°˜í™˜**
```ts
function logMessage(message: string, userId: number) {
    console.log(`${userId}: ${message}`)
}

// âœ… logMessage í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ì¶”ì¶œ 
type LogParams = Parameters<typeof logMessage>

// âœ… LogParams íƒ€ì…ì€ [string, number] í˜•íƒœ
```

<br>

### ğŸ”¹ Awaited<T>
`promise`ì˜ ê²°ê³¼ ê°’ì„ ì¶”ì¶œ
```ts
async function fetchData(): Promise<{id: number; name: string}> {
    return{ id: 1, name: "Alice" }
}

// âœ… fetchDataì˜ ë°˜í™˜ íƒ€ì…ì„ ê°€ì ¸ì˜´
type UserData = Awaited<ReturnType<typeof fetchData>>

// âœ… UserData íƒ€ì…ì€ { id: number, name: string }
```

âœ”ï¸ **ì‚¬ìš©ì²˜**: ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì„ ëª…í™•íˆ í•  ë•Œ

<br>

### ğŸ”¹ Record<K, T>
`k`(key)ì™€ `T`(value)ë¥¼ ì¡°í•©í•˜ì—¬ ê°ì²´ íƒ€ì…ì„ ìƒì„±
```ts
type Page = "home" | "about" | "contact"

// âœ… ê° í˜ì´ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ëŠ” íƒ€ì…
const pageInfo: Record<Page, { title: string }> = {
    home: { title: "Home Page" },
    about: { title: "About Us" },
    contact: { title: "Contact Us" }
}
```
âœ”ï¸ **ì‚¬ìš©ì²˜**: ê°ì²´ì˜ í‚¤ì™€ ê°’ì„ íƒ€ì…ìœ¼ë¡œ ì œí•œí•  ë•Œ ìœ ìš©

<br>

- - -

<br>

## ìœ í‹¸ë¦¬í‹° íƒ€ì… ë¬¸ì œ
### ğŸ”¹ ë¬¸ì œ 1: `Pick<T, K>` & `Omit<T, K>` í™œìš©
```ts
interface Employee {
    id: number;
    name: string;
    position: string;
    salary: number;
}

// âœ… 1-1. ì§ì› ì •ë³´ë¥¼ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í‘œì‹œí•  ë•Œ, "id"ì™€ "name"ë§Œ í¬í•¨í•˜ëŠ” íƒ€ì…ì„ ë§Œë“¤ì–´ë¼.
type EmployeePublic = ???;

// âœ… 1-2. ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ, "salary" ì •ë³´ë¥¼ ì œì™¸í•œ íƒ€ì…ì„ ë§Œë“¤ì–´ë¼.
type EmployeeSafe = ???;
```

<details>
    <summary><strong>ì •ë‹µ ë³´ê¸° ğŸ”</strong></summary>

    // 1-1
    type EmployeePublic = Pick<Employee, "id" | "name">

    // 1-2
    type EmployeeSafe = Pick<Employee, "salary">
</details>

<br>

### ğŸ”¹ ë¬¸ì œ 2: `Partial<T>` & `Readonly<T>` í™œìš©
```ts
interface Project {
    title: string;
    deadline: Date;
    completed: boolean;
}

// âœ… 2-1. í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œ, ì¼ë¶€ë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ íƒ€ì…ì„ ì •ì˜í•´ë¼.
type ProjectUpdate = ???;

// âœ… 2-2. í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ë¶ˆë³€ ê°ì²´ë¡œ ë§Œë“¤ì–´ ìˆ˜ì •í•  ìˆ˜ ì—†ë„ë¡ í•´ë¼.
type ReadOnlyProject = ???;
```

<details>
    <summary><strong>ì •ë‹µ ë³´ê¸° ğŸ”</strong></summary>

    // 2-1
    type ProjectUpdate = Partial<Project>

    // 2-2
    type ReadOnlyProject = Readonly<Project>
</details>

<br>

### ğŸ”¹ ë¬¸ì œ 3: `Exclude<T, U>` & `Extract<T, U>` í™œìš©
```ts
type AccessLevel = "admin" | "editor" | "viewer" | "guest";

// âœ… 3-1. "guest" ê¶Œí•œì„ ì œì™¸í•œ íƒ€ì…ì„ ì •ì˜í•´ë¼.
type AuthorizedAccess = ???;

// âœ… 3-2. "admin"ê³¼ "editor"ë§Œ í¬í•¨í•˜ëŠ” íƒ€ì…ì„ ì •ì˜í•´ë¼.
type HighLevelAccess = ???;
```

<details>
    <summary><strong>ì •ë‹µ ë³´ê¸° ğŸ”</strong></summary>

    // 3-1
    type AuthorizedAccess = Exclude<AccessLevel, "guest">

    // 3-2
    type HighLevelAccess = Extract<AccessLevel, "admin" | "editor">
</details>

<br>

### ğŸ”¹ ë¬¸ì œ 4: `ReturnType<T>` & `Parameters<T>` í™œìš©
```ts
function createOrder(productId: number, quantity: number) {
    return {
        orderId: Math.random(),
        productId,
        quantity,
        status: "pending",
    };
}

// âœ… 4-1. `createOrder` í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì„ ê°€ì ¸ì™€ë¼.
type OrderType = ???;

// âœ… 4-2. `createOrder` í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ê°€ì ¸ì™€ë¼.
type OrderParams = ???;
```

<details>
    <summary><strong>ì •ë‹µ ë³´ê¸° ğŸ”</strong></summary>
    
    // 4-1
    type OrderType = ReturnType<typeof createOrder>

    // 4-2
    type OrderParams = Parameters<typeof createOrder>
</details>

<br>

### ğŸ”¹ ë¬¸ì œ 4: `Awaited<T>` í™œìš© (ë¹„ë™ê¸° ì²˜ë¦¬)
```ts
async function fetchUser(): Promise<{ id: number; name: string }> {
    return { id: 1, name: "Alice" };
}

// âœ… 5-1. `fetchUser`ì˜ ë°˜í™˜ê°’ íƒ€ì…ì„ ì •ì˜í•´ë¼.
type UserType = ???;
```

<details>
    <summary><strong>ì •ë‹µ ë³´ê¸° ğŸ”</strong></summary>

    // 5-1
    type fetchUser = Awaited<ReturnType<typeof fetchUser>>
</details>